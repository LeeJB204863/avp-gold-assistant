import streamlit as st

# -----------------------------
# à¸Ÿà¸±à¸‡à¸à¹Œà¸Šà¸±à¸™à¸„à¸³à¸™à¸§à¸“ RR
# -----------------------------
def calc_rr(entry, sl, tp):
    risk = abs(entry - sl)
    reward = abs(tp - entry)
    if risk == 0:
        return 0
    return reward / risk

# -----------------------------
# UI à¹€à¸£à¸´à¹ˆà¸¡à¸•à¹‰à¸™
# -----------------------------
st.title("AVP Gold Assistant")
st.write("à¹€à¸§à¸­à¸£à¹Œà¸Šà¸±à¸™à¹à¸£à¸: à¸„à¸³à¸™à¸§à¸“ Risk/Reward (RR)")

# -----------------------------
# à¸Šà¹ˆà¸­à¸‡à¸à¸£à¸­à¸à¸‚à¹‰à¸­à¸¡à¸¹à¸¥
# -----------------------------
entry = st.number_input("Entry Price", value=4195.21, format="%.2f")
sl = st.number_input("Stop Loss (SL)", value=4183.55, format="%.2f")
tp = st.number_input("Take Profit (TP)", value=4213.45, format="%.2f")

# -----------------------------
# à¸„à¸³à¸™à¸§à¸“à¸œà¸¥à¸¥à¸±à¸žà¸˜à¹Œ
# -----------------------------
rr = calc_rr(entry, sl, tp)
risk = abs(entry - sl)
reward = abs(tp - entry)

# -----------------------------
# à¹à¸ªà¸”à¸‡à¸œà¸¥à¸¥à¸±à¸žà¸˜à¹Œ
# -----------------------------
st.subheader("ðŸ“Š à¸œà¸¥à¸¥à¸±à¸žà¸˜à¹Œà¸à¸²à¸£à¸„à¸³à¸™à¸§à¸“")
st.write(f"Risk: {risk:.2f}")
st.write(f"Reward: {reward:.2f}")
st.write(f"RR: {rr:.2f} R")

# -----------------------------
# à¸ªà¸–à¸²à¸™à¸°à¸„à¸§à¸²à¸¡à¸„à¸¸à¹‰à¸¡à¸„à¹ˆà¸²
# -----------------------------
if rr >= 3:
    st.success("âœ” à¹€à¸›à¹‡à¸™à¹„à¸¡à¹‰à¸”à¸µ à¸„à¸¸à¹‰à¸¡à¸„à¹ˆà¸² (RR â‰¥ 3R)")
elif rr >= 2:
    st.info("âš  à¸žà¸­à¹ƒà¸Šà¹‰à¹„à¸”à¹‰ (RR â‰¥ 2R)")
else:
    st.error("âœ˜ à¹„à¸¡à¹ˆà¸™à¹ˆà¸²à¹€à¸‚à¹‰à¸² (RR < 2R)")

